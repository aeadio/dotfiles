# vim: ft=sh ts=2 sw=2 et:

emulate -L zsh

# TODO: Interpret / word split the selection and make all enclosed dirs?
# Can we get access to Zsh completion's parsing and filter out, eg, option
# flags, respect quotes, etc?

local selection
get-selection | read selection

if [[ -z $selection ]] return

local err=$(mkdir -p $selection 2>&1)
if (( $? )); then
  zle -M "could not create directory '$selection': $err"
else
  zle -M "created directory '$selection'"
fi
